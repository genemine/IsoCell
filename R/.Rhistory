library(IsoC)
library(IsoCell)
?IsoCell
?prcomp
s=FALSE
if(s == FALSE){
pca_prcomp <- prcomp_u(t(gene_expr))
pca_info = summary(pca_prcomp)$importance
estimate = which(pca_info['Cumulative Proportion',]>theta)[1]
gene_pc = pca_prcomp$u[,1:estimate]
}else{
library(irlba)
library(MASS)
pca_prcomp <- prcomp_irlba(t(gene_expr),s)
pca_info = summary(pca_prcomp)$importance
u=pca_prcomp$x %*% ginv(diag(pca_prcomp$sdev * sqrt(ncol(gene_expr)-1)))
gene_pc = u
}
z <- data.frame(x=1:5,y=c(43,2,3,4,5))
if(s == FALSE){
pca_prcomp <- prcomp(t(z))
pca_info = summary(pca_prcomp)$importance
estimate = which(pca_info['Cumulative Proportion',]>theta)[1]
gene_pc = pca_prcomp$u[,1:estimate]
}else{
library(irlba)
library(MASS)
pca_prcomp <- prcomp_irlba(t(gene_expr),s)
pca_info = summary(pca_prcomp)$importance
u=pca_prcomp$x %*% ginv(diag(pca_prcomp$sdev * sqrt(ncol(gene_expr)-1)))
gene_pc = u
}
if(s == FALSE){
pca_prcomp <- prcomp(t(z))
pca_info = summary(pca_prcomp)$importance
estimate = which(pca_info['Cumulative Proportion',]>0.9)[1]
gene_pc = pca_prcomp$u[,1:estimate]
}else{
library(irlba)
library(MASS)
pca_prcomp <- prcomp_irlba(t(gene_expr),s)
pca_info = summary(pca_prcomp)$importance
u=pca_prcomp$x %*% ginv(diag(pca_prcomp$sdev * sqrt(ncol(gene_expr)-1)))
gene_pc = u
}
if(s == FALSE){
pca_prcomp <- prcomp(t(z))
pca_info = summary(pca_prcomp)$importance
estimate = which(pca_info['Cumulative Proportion',]>0.9)[1]
gene_pc = pca_prcomp$x[,1:estimate]
}else{
library(irlba)
library(MASS)
pca_prcomp <- prcomp_irlba(t(gene_expr),s)
pca_info = summary(pca_prcomp)$importance
u=pca_prcomp$x %*% ginv(diag(pca_prcomp$sdev * sqrt(ncol(gene_expr)-1)))
gene_pc = u
}
library(irlba)
?prcomp_irlba
z <- data.frame(x=1:5,y=c(43,2,3,4,5))
s=NULL
if(s == NULL){
pca_prcomp <- prcomp(t(z))
pca_info = summary(pca_prcomp)$importance
estimate = which(pca_info['Cumulative Proportion',]>theta)[1]
gene_pc = pca_prcomp$x[,1:estimate]
}else{
library(irlba)
library(MASS)
pca_prcomp <- prcomp_irlba(t(gene_expr),s)
pca_info = summary(pca_prcomp)$importance
u=pca_prcomp$x %*% ginv(diag(pca_prcomp$sdev * sqrt(ncol(gene_expr)-1)))
gene_pc = u
}
